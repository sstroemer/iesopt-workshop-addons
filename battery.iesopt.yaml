parameters:
  battery_eff_rt: 0.75
  battery_power: 4
  battery_hours: 2

config:
  general:
    version:
      core: 2.1.0
    verbosity:
      core: warn
      progress: off
      solver: off
  optimization:
    problem_type: LP
    snapshots:
      count: 8760
  files:
    data: battery.csv

carriers:
  electricity: {}

components:
  storage:
    type: Node
    carrier: electricity
    has_state: true
    state_lb: 0
    state_ub: <battery_power> * <battery_hours>

  charging:
    type: Connection
    node_from: grid
    node_to: storage
    lb: 0
    ub: <battery_power>
    loss: 1.0 - sqrt(<battery_eff_rt>)

  discharging:
    type: Connection
    node_from: storage
    node_to: grid
    lb: 0
    ub: <battery_power>
    loss: 1.0 - sqrt(<battery_eff_rt>)

  grid:
    type: Node
    carrier: electricity
  
  pv:
    type: Profile
    carrier: electricity
    node_to: grid
    mode: ranged
    lb: 0
    ub: pv@data
  
  demand:
    type: Profile
    carrier: electricity
    node_from: grid
    value: demand@data
  
  energy_supplier:
    type: Profile
    carrier: electricity
    node_to: grid
    mode: create
    cost: 0.15
